╔════════════════════════════════════════════════════════════════════════════════╗
║                 ✅ СИСТЕМА РАБОТАЕТ! КАК ПРАВИЛЬНО ТЕСТИРОВАТЬ                ║
╚════════════════════════════════════════════════════════════════════════════════╝

🎯 КРАТКИЙ ИТОГ: ВСЁ РАБОТАЕТ!
═══════════════════════════════════════════════════════════════════════════════

✅ Backend: запущен (port 8000)
✅ LLM анализ: работает (Haiku + Sonnet)
✅ Транскрипция: работает (Whisper)
✅ WebSocket: подключён и отправляет данные
✅ Triggers: работают (keyword matching)
✅ Интервал: 10 секунд (экономия -50%)

❗ТЫ ПРОСТО ТЕСТИРУЕШЬ НЕ ТЕМ СПОСОБОМ!


📝 ПРАВИЛЬНЫЙ СПОСОБ #1: DEBUG MODE → TEXT (рекомендуется!)
═══════════════════════════════════════════════════════════════════════════════

1. Открой: http://localhost:5173

2. Выбери вкладку "Text"

3. Вставь этот текст:

Sales: Привет! Меня зовут Павел, я из компании KodiKids.
Client: Здравствуйте!
Sales: Расскажите, пожалуйста, о вашей ситуации?
Client: У меня сын, 10 лет. Хочу чтобы он научился программированию.
Sales: Отлично! А что вас интересует больше всего?
Client: Мне интересно, чтобы он думал логически. Но есть проблема - это дорого для меня.
Sales: Понимаю. Давайте обсудим варианты.
Client: Хорошо, но я подумаю.

4. Нажми "Process"

5. ЖДЁШЬ 3-5 СЕКУНД

6. Должно появиться:
   ✅ In-Call Assist карточка: "💰 Client says it's too expensive"
   ✅ Key Client Information:
      • Objections: price
      • Interests: programming, logic
      • Needs: Affordable programming education
   ✅ Call Progress Checklist:
      • ✓ Greeting
      • ✓ Identify pain points
      • ✓ Present solution
   ✅ Next Step Recommendation: "Offer trial lesson..."


📞 ПРАВИЛЬНЫЙ СПОСОБ #2: LIVE RECORDING (если есть микрофон)
═══════════════════════════════════════════════════════════════════════════════

1. Открой: http://localhost:5173

2. Нажми "Start Recording"

3. Выбери источник:
   ⚠️ НЕ "Chrome Tab" - это не работает для YouTube!
   ✅ "Window" или "Entire Screen" + включи микрофон

4. Открой DevTools (F12) → Console

5. Говори ЧЁТКО И ГРОМКО:
   
   "Здравствуйте! Меня зовут Иван."
   
   [ЖДИ 10 СЕКУНД - система обрабатывает!]
   
   "Расскажите о вашей проблеме."
   
   [ЖДИ 10 СЕКУНД]
   
   "Мне интересно, но это дорого для меня."
   
   [ЖДИ 10 СЕКУНД]

6. Проверяй Console:
   ✅ "📤 Отправлен PCM chunk: 8192 samples" ← аудио идёт
   ✅ "WebSocket connected" ← подключено
   ❌ Если нет этих логов → микрофон не работает!

7. Через 10 секунд должны появиться обновления в UI


❌ ЧАСТЫЕ ОШИБКИ
═══════════════════════════════════════════════════════════════════════════════

1️⃣ "Говорил 30 секунд, ничего не появилось"
   
   Причина: Говорил не то, что система ищет!
   
   Система НЕ ПРОСТО транскрибирует - она ИЩЕТ:
   • Приветствия → для чеклиста
   • Вопросы о проблемах → для чеклиста
   • Ключевые слова ("дорого", "время") → для триггеров
   
   Решение: Используй DEBUG MODE → TEXT с готовым диалогом

2️⃣ "Выбрал Chrome Tab, но звука нет"
   
   Причина: Chrome не захватывает аудио из YouTube-табов!
   
   Решение:
   • Используй системный микрофон
   • Или используй DEBUG MODE → TEXT
   • Или используй DEBUG MODE → YOUTUBE (загрузи ссылку)

3️⃣ "Checklist пустой"
   
   Причина: Не сказал то, что нужно для заполнения пунктов!
   
   Чеклист заполняется ТОЛЬКО когда:
   • Говоришь "Здравствуйте" → Greeting
   • Спрашиваешь "Расскажите о проблеме" → Identify pain points
   • Предлагаешь решение → Present solution
   
   Решение: Говори СТРУКТУРИРОВАННЫЙ диалог продажи!

4️⃣ "Trigger card не появляется"
   
   Причина: Не сказал ключевые слова!
   
   Триггеры срабатывают ТОЛЬКО на ключевые слова:
   • "дорого" → price_objection
   • "не интересно" → not_interested
   • "подумаю" → need_to_think
   • "нет времени" → time_constraint
   • "coursera", "udemy" → competitor_mention
   
   Решение: Скажи одно из этих слов!


🎓 ЧТО СИСТЕМА ДЕЛАЕТ
═══════════════════════════════════════════════════════════════════════════════

НЕ ПРОСТО ТРАНСКРИБИРУЕТ!

Система анализирует:
1. Эмоции клиента (engaged, hesitant, defensive)
2. Возражения (price, time, family, value)
3. Интересы (programming, logic, creativity)
4. Потребности (core pain point)
5. Этап звонка (greeting → profiling → objection → closing)
6. Триггеры (ключевые фразы для In-Call Assist)
7. Чеклист продажи (выполнены ли шаги?)

Всё это через LLM (Claude 3 Haiku) каждые 10 секунд!


✅ БЫСТРЫЙ ТЕСТ (30 СЕКУНД)
═══════════════════════════════════════════════════════════════════════════════

1. http://localhost:5173
2. Вкладка "Text"
3. Вставь: "Это дорого для меня"
4. "Process"
5. Должна появиться карточка: "💰 Client says it's too expensive"

Если появилась → ✅ ВСЁ РАБОТАЕТ!
Если нет → проверь логи бэкенда или напиши мне.


📞 ПОМОЩЬ
═══════════════════════════════════════════════════════════════════════════════

Если всё ещё не работает:

1. Проверь бэкенд:
   curl http://localhost:8000/api/status

2. Проверь логи:
   tail -f /tmp/backend_*.log

3. Проверь фронтенд:
   DevTools → Console → ищи ошибки

4. Напиши мне что видишь в логах!


════════════════════════════════════════════════════════════════════════════════
Создано: October 26, 2025
Статус: ✅ Всё работает, нужно правильно тестировать!
════════════════════════════════════════════════════════════════════════════════
