â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘               ĞšĞ ĞĞ¢ĞšĞ˜Ğ™ ĞĞ¢Ğ’Ğ•Ğ¢: Ğ“Ğ”Ğ• Ğ˜ ĞšĞĞšĞ˜Ğ• LLM Ğ ĞĞ‘ĞĞ¢ĞĞ®Ğ¢ Ğ¡Ğ•Ğ™Ğ§ĞĞ¡                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ Ğ“Ğ›ĞĞ’ĞĞ«Ğ• LLM (Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ’Ğ¡Ğ•)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ANALYZE_CLIENT_SENTIMENT (Haiku - Ğ´ĞµÑˆÑ‘Ğ²Ñ‹Ğ¹)
   â””â”€ Ğ“Ğ´Ğµ: backend/utils/llm_analyzer.py line 70-180
   â””â”€ ĞšĞ¾Ğ³Ğ´Ğ°: ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ 10 ÑĞµĞº (live) Ğ¸Ğ»Ğ¸ 1 Ñ€Ğ°Ğ· (debug)
   â””â”€ Ğ§Ñ‚Ğ¾: ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ñ€ĞµÑ‡ÑŒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° â†’ emotion, objections, interests, needs
   â””â”€ Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: $0.0009 Ğ·Ğ° Ğ²Ñ‹Ğ·Ğ¾Ğ²
   â””â”€ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: âœ… Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ Ğ’ LIVE Ğ˜ DEBUG Ğ Ğ•Ğ–Ğ˜ĞœĞĞ¥

2. CHECK_CHECKLIST_ITEM_SEMANTIC (Haiku - Ğ´ĞµÑˆÑ‘Ğ²Ñ‹Ğ¹)
   â””â”€ Ğ“Ğ´Ğµ: backend/utils/llm_analyzer.py line 185-220
   â””â”€ ĞšĞ¾Ğ³Ğ´Ğ°: ĞšĞ¾Ğ³Ğ´Ğ° Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¾Ñ‚Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ Ğ¿ÑƒĞ½ĞºÑ‚ Ñ‡ĞµĞºĞ»Ğ¸ÑÑ‚Ğ°
   â””â”€ Ğ§Ñ‚Ğ¾: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ»Ğ¸ Ñ‡ĞµĞºĞ»Ğ¸ÑÑ‚-Ğ¿ÑƒĞ½ĞºÑ‚ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ñƒ
   â””â”€ Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: $0.001 Ğ·Ğ° Ğ²Ñ‹Ğ·Ğ¾Ğ² (Ñ ĞºĞµÑˆĞµĞ¼ Ğ½Ğ° 60 ÑĞµĞº)
   â””â”€ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: âœ… Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ ĞĞšĞ¢Ğ˜Ğ’ĞĞ

3. INTENT_DETECTOR (Keyword matching - Ğ‘Ğ•Ğ¡ĞŸĞ›ĞĞ¢ĞĞ!)
   â””â”€ Ğ“Ğ´Ğµ: backend/utils/intent_detector.py line 60-110
   â””â”€ ĞšĞ¾Ğ³Ğ´Ğ°: ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ 10 ÑĞµĞº (live) Ğ¸Ğ»Ğ¸ 1 Ñ€Ğ°Ğ· (debug)
   â””â”€ Ğ§Ñ‚Ğ¾: ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ñ‚Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ñ‹ (price, competitor, time, etc) - Ğ‘Ğ•Ğ— LLM!
   â””â”€ Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: $0.00 (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ keyword matching)
   â””â”€ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: âœ… Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ Ğ˜ Ğ‘Ğ•Ğ¡ĞŸĞ›ĞĞ¢ĞĞ«Ğ™!


âš ï¸ Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• LLM (Ğ’ DEBUG Ğ Ğ•Ğ–Ğ˜ĞœĞĞ¥)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

4. CALL_OPENROUTER (Sonnet 3.5 - Ğ”ĞĞ ĞĞ“ĞĞ™!)
   â””â”€ Ğ“Ğ´Ğµ: backend/main.py line 91-148
   â””â”€ ĞšĞ¾Ğ³Ğ´Ğ°: Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² debug Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°Ñ… (text, youtube)
   â””â”€ Ğ§Ñ‚Ğ¾: Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ "hint" ÑĞ¾Ğ²ĞµÑ‚ Ğ´Ğ»Ñ ÑĞµĞ¹Ğ»Ğ·Ğ°
   â””â”€ Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: $0.0044 Ğ·Ğ° Ğ²Ñ‹Ğ·Ğ¾Ğ² (5x Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ğµ Ñ‡ĞµĞ¼ Haiku!)
   â””â”€ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: âŒ ĞĞ¢ĞšĞ›Ğ®Ğ§Ğ•ĞĞ Ğ¸Ğ· live recording!
   â””â”€ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ: Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ


ğŸ’° Ğ˜Ğ¢ĞĞ“ĞĞ’ĞĞ¯ Ğ¡Ğ¢ĞĞ˜ĞœĞĞ¡Ğ¢Ğ¬
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LIVE RECORDING (90 Ğ¼Ğ¸Ğ½ÑƒÑ‚):
  â€¢ analyze_client_sentiment: 540 Ã— $0.0009 = $0.49
  â€¢ check_checklist_item:      50 Ã— $0.001  = $0.05
  â€¢ intent_detector:          540 Ã— $0.00   = $0.00
  â€¢ call_openrouter:            0 Ã— $0.0044 = $0.00 (OFF)
  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Ğ’Ğ¡Ğ•Ğ“Ğ: ~$0.54 Ğ·Ğ° Ğ·Ğ²Ğ¾Ğ½Ğ¾Ğº âœ… ĞĞ§Ğ•ĞĞ¬ Ğ”Ğ•Ğ¨Ğ•Ğ’Ğ!


ğŸ“ Ğ“Ğ”Ğ• Ğ’Ğ¡Ğ ĞĞĞ¥ĞĞ”Ğ˜Ğ¢Ğ¡Ğ¯ Ğ’ ĞšĞĞ”Ğ•
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Live Recording (main flow):
  â””â”€ backend/main.py line 220-570 (websocket_ingest function)
     â”œâ”€ line 310: analyze_client_sentiment() [speaker diarization]
     â”œâ”€ line 345: analyze_client_sentiment() [fallback]
     â”œâ”€ line 416,445: check_checklist_item_semantic()
     â”œâ”€ line 483: analyze_client_sentiment() [main]
     â”œâ”€ line 497: generate_next_step() [fallback, no LLM]
     â”œâ”€ line 540: intent_detector.detect_trigger()
     â””â”€ line 551: WebSocket send to frontend

Debug Text Mode:
  â””â”€ backend/main.py line 664-760 (/api/process-transcript)
     â”œâ”€ line 695: analyze_client_sentiment()
     â”œâ”€ line 712: call_openrouter() [Sonnet]
     â””â”€ line 725: intent_detector.detect_trigger()

Debug YouTube Mode:
  â””â”€ backend/main.py line 921-1020 (/api/process-youtube)
     â”œâ”€ line 879: analyze_client_sentiment()
     â”œâ”€ line 962: analyze_client_sentiment()
     â”œâ”€ line 977: call_openrouter() [Sonnet]
     â””â”€ line 985: intent_detector.detect_trigger()

LLM Implementations:
  â””â”€ backend/utils/llm_analyzer.py
     â”œâ”€ line 70-180: analyze_client_sentiment()
     â”œâ”€ line 185-220: check_checklist_item_semantic()
     â”œâ”€ line 236-282: generate_next_step() [unused LLM version]
     â””â”€ line 283-330: _call_llm() [internal API]

Trigger Detection:
  â””â”€ backend/utils/intent_detector.py line 60-110


âœ… Ğ˜Ğ¢ĞĞ“
â•â•â•â•â•â•â•

Ğ¡Ğ•Ğ™Ğ§ĞĞ¡ ĞĞšĞ¢Ğ˜Ğ’ĞĞ:
â€¢ Haiku (Ğ´ĞµÑˆÑ‘Ğ²Ñ‹Ğ¹) - analyse_client_sentiment + checklist validation
â€¢ Intent detector (Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹) - trigger detection
â€¢ Whisper (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹) - transcription

ĞĞ¢ĞšĞ›Ğ®Ğ§Ğ•ĞĞ (ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ):
â€¢ Sonnet (Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğ¹) - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ debug
â€¢ Speaker diarization (Ğ½ĞµĞ½ÑƒĞ¶Ğ½Ñ‹Ğ¹) - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ fallback
â€¢ generate_next_step LLM - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ fallback

Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢:
âœ… ĞÑ‡ĞµĞ½ÑŒ Ğ´ĞµÑˆÑ‘Ğ²Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
âœ… Ğ’ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚
âœ… -50% ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ·Ğ° Ğ¼ĞµÑÑÑ† (Ğ¾Ñ‚ 1.98$ â†’ 0.54$ Ğ·Ğ° Ğ·Ğ²Ğ¾Ğ½Ğ¾Ğº)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¾: October 26, 2025
Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: âœ… Ğ’ÑĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
